<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CS457 - Studio 9</title>

  <!-- Load Google Font -->
  <link href='https://fonts.googleapis.com/css?family=Roboto:100,400,300,400italic,700' rel='stylesheet' type='text/css'>

<!--  <link rel="stylesheet" href="css/bootstrap.min.css">-->
  <link rel="stylesheet" href="/leaflet/leaflet.css">
  <link rel="stylesheet" href="/modules/vis/css/style.css">
</head>
<body>

<!--  <div class="container-fluid">-->

    <div class="row">
      <div class="col-md-12">
        
        <!-- Headline -->
        <h1>BLUEbikes - Bike Sharing in Boston 
          <span class="divider">|</span>
          <span class="sub-headline">
            <span id="station-count"></span> Stations
          </span>
        </h1>

        <!-- Visualization placeholders -->
        <div id="station-map"></div>
      
      </div>
    </div>

<!--  </div>-->

  <!-- Load JS libraries -->

  <!-- Visualization objects -->
  <script src="/modules/vis/js/stationMap.js"></script>

  <!-- Load data, create visualizations -->
  <script src="/modules/vis/js/main.js"></script>

<!--<script>-->
<!--  // $.holdReady(true);                              //set hold-->
<!--  // function releaseHold() { $.holdReady(false); }  //callback to release hold-->
<!--  // $.getScript("/modules/vis/test.js");          //load script then release hold-->
<!--  // $.getScript("/modules/vis/test2.js", releaseHold);-->

<!--  $(document).ready(function() {-->
<!--    $.getScript("/modules/vis/stationMap.js");-->
<!--    $.getScript("/modules/vis/main.js");-->
<!--    document.getElementById("next-button").disabled = false;-->
<!--  })-->

<!--  // $(document).ready(function() {-->
<!--  //   $.getScript("/modules/vis/test.js");-->
<!--  //   $.getScript("/modules/vis/test2.js");-->
<!--  // })-->
<!--</script>-->

<script>
  $(document).ready(function() {
    //var data = {};
    var mousemoveData = [];
    var clickData = [];


    var start = new Date().getTime();
    document.addEventListener("mousemove", trackMouseMove);
    function trackMouseMove(e) {
      //console.log(e.pageX);
        var move = {};
        move.x = e.pageX;
        move.y = e.pageY;
        move.time = new Date().getTime() - start;
        mousemoveData.push(move);
    }

    document.addEventListener("click", trackClick);
    function trackClick(e) {
      //console.log(e.pageX);
      var click = {};
      click.x = e.pageX;
      click.y = e.pageY;
      click.target = e.target;
      console.log(e.target);
      click.time = new Date().getTime() - start;
      clickData.push(click);
    }

    setTimeout(stopTrack, 5000);
    function stopTrack() {
      document.removeEventListener("mousemove", trackMouseMove);
      document.removeEventListener("click", trackClick);
      console.log(clickData);
      experimentr.addData({mousemoveData: mousemoveData, clickData: clickData});
      document.getElementById("next-button").disabled = false;
    }
  })
</script>
</body>
</html>